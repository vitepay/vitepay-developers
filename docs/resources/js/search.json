[[{"l":"Introduction","p":["Vitepay est un service qui permet aux marchands d'augmenter leur chiffre d'affaire en offrant des moyens de paiements supplémentaires aux clients.","Le service Vitepay n'est actuellement disponible qu'au Mali","Ceci se traduit concrètement par l'activation d'un bouton \"Payer avec Vitepay\" qui donne le possibilité au client de valider son panier et payer avec :","Orange Money","Sama Money","Malitel/Moov Money","Visa/Mastercard","Wave","Paypal","Notre objectif est de contiuer à fournir aux marchands des moyens simples et pratiques pour augmenter leurs ventes."]},{"l":"Démo","p":["Site démo Vitepay - https://checkout.vitepay.com/demo"]}],[{"l":"Intégration Direct API"},{"l":"Compte développeur","p":["Lorsqu'un compte marchand est créé, vous recevez une paire de clés d'API ( api_key et api_secret):","Les clés d'API sont des identifiants numériques utilisés pour interagir avec les services de Vitepay. Elles sont essentielles pour intégrer les APIs de paiement Vitepay.","Assurez-vous d'abord de disposer d'un compte marchand Vitepay. Si ce n'est pas encore le cas, vous pouvez en créer.","Connectez-vous à votre compte et accédez à l'option \"Paramètres\" puis \"Kit d'intégration\" pour recuperer les clés d'API.","Si vous jugez que votre clé secrète est corrompue vous pouvez accéder à votre espace marchand et générer de nouvelles clés."]},{"l":"Intégration Direct API","p":["En cours de construction"]}],[{"l":"Intégration PrestaShop"},{"l":"Compte développeur","p":["Lorsqu'un compte marchand est créé, vous recevez une paire de clés d'API ( api_key et api_secret):","Les clés d'API sont des identifiants numériques utilisés pour interagir avec les services de Vitepay. Elles sont essentielles pour intégrer les APIs de paiement Vitepay.","Assurez-vous d'abord de disposer d'un compte marchand Vitepay. Si ce n'est pas encore le cas, vous pouvez en créer.","Connectez-vous à votre compte et accédez à l'option \"Paramètres\" puis \"Kit d'intégration\" pour recuperer les clés d'API.","Si vous jugez que votre clé secrète est corrompue vous pouvez accéder à votre espace marchand et générer de nouvelles clés."]},{"l":"Intégration PrestaShop","p":["La présente documentation est destinée aux développeurs souhaitant installer et configurer Vitepay sur un site marchand Prestashop..","Cliquer sur le bouton Télécharger pour télécharger le plugin Vitepay."]},{"l":"I. Installation"},{"l":"1. Transfère de données","p":["Le dossier Vitepay vous sera transmis.","Transférer par FTP le dossier Vitepay dans le dossier modules de votre installation Prestashop."]},{"l":"2. Installation de Vitepay","p":["Installer Vitepay dans l'interface Administration de Prestashop en cliquant sur le menu MODULES puis Paiement Et enfin sur le bouton Installer."]},{"l":"II. Configuration"},{"l":"1. Configuration de Vitepay","p":["Apres l'installation de Vitepay, nous allons configurer Vitepay pour cela cliquer sur le bouton Configurer."]},{"l":"2. Les différents composants du formulaire Vitepay","p":["Vitepay est composé de plusieurs éléments qui sont : Vitepay API key, Vitepay API secret, Vitepay API signature, Merchant Locale, Merchant Currency, Merchant Country, Transaction Server","Mode : il existe deux modes:","le Mode Test qui permet de faire une simulation du mode de paiement Vitepay sans passé par Orange money c'est-à-dire tester tout le processus sans que le prix du produit choisi ne soit soustrait de la somme de votre compte Orange money. Vous pouvez choisir de confirmer le paiement en saisissant le 77000001 comme numéro de téléphone lors du paiement ou le 77000009 pour annuler le paiement.","le Mode Live une fois choisi vous permet de faire des achats en ligne avec Orange money.","API key, Vitepay API secret et API signature vous seront donnés et seront utilisés une fois par configuration c'est-à-dire à chaque nouvelle configuration de Vitepay, vous aurez un nouveau API key, API secret et API signature de Vitepay.","Langue, Pays et Devise sont des champs à remplir avec un nom normalisé par ISO (Organisation Internationale de Normalisation).","Langue : pour la langue (fr pour le français).","Pays : pour le pays (ML pour le Mali).","Devise : pour la monnaie (XOF pour le FCFA).","Lors du paiement, vous pourrez choisir le mode d'affichage du texte, logo de Vitepay et d'Orange money à l'aide des éléments ci-dessous:","PayNow Text permet de changer le texte qui va s'afficher lors du paiement","PayNow Logo permet d'afficher ou non le logo Vitepay.","PayNow logo Align permet d'aligner le logo Vitepay à gauche ou à droite une fois le logo affiché. Sauvegarder les informations saisies en cliquant sur le bouton Save."]},{"l":"III. Tester Vitepay","p":["Pour vérifier si le plugin Vitepay a été bien installé et configuré dans Pestashop, commander un produit sur l'interface du site et lors du paiement choisir Vitepay.","Vous serez redirigé vers la page Vitepay pour compléter la procédure d'achat effectué à travers le service Orange money."]}],[{"l":"Intégration vitepay"},{"l":"Compte développeur","p":["Lorsqu'un compte marchand est créé, vous recevez une paire de clés d'API ( api_key et api_secret):","Les clés d'API sont des identifiants numériques utilisés pour interagir avec les services de Vitepay. Elles sont essentielles pour intégrer les APIs de paiement Vitepay.","Assurez-vous d'abord de disposer d'un compte marchand Vitepay. Si ce n'est pas encore le cas, vous pouvez en créer.","Connectez-vous à votre compte et accédez à l'option \"Paramètres\" puis \"Kit d'intégration\" pour recuperer les clés d'API.","Si vous jugez que votre clé secrète est corrompue vous pouvez accéder à votre espace marchand et générer de nouvelles clés."]},{"l":"Intégrer Vitepay","p":["La présente documentation est destinée aux développeurs souhaitant intégrer le paiement VitePay sur un site marchand. Cette documentation n'est liée à aucune technologie. Le développeur est libre de faire l'intégration avec n'importe quel outil web.","Vue d'ensemble du paiement avec VitePay"]},{"l":"1. Récupération du REDIRECT_URL","p":["Depuis le site marchand, vous devez récupérer une URL de redirection de la forme https://checkout1.vitepay.com/Ytr515 avant de rediriger le client vers VitePay pour effectetuer le paiement. Les étapes suivantes expliquent le mécanisme de récupération de cette URL de redirection.","Pour récupérer une URL de redirection, vous devez effectuer l'appel POST suivant : POST https://api.vitepay.com/v1/prod/payments","Avant de passer en production vous devez avoir effectué au moins un payment concluant en mode sandbox (utiliser un numero joker). Vous pouvez effectuer cet appel depuis un formulaire ou faire un appel serveur à serveur","POST https://api.vitepay.com/v1/prod/payment"]},{"l":"Header of Request"},{"l":"Body of Request"},{"l":"Description of the Body","p":["api_key","Cette information vous est transmise par VitePay lors de l'enregistrement de votre site marchand. Contactez l'adminsitrateur du site pour lequel vous souhaitez faire l'intégration pour récupérer cette information.","Cette URL sera utilisé à l'étape 5 pour confirmer la transaction.","DESCRIPTION","Email du client qui effectue la transaction.","En cas d'erreur lors de cet appel, VitePay retournera des informations pour vous aider à modifier votre code. Si tous les paramètres attendus sont présents et valides, vous recevez une URL de la forme https://checkout1.vitepay.com/Ytr515 à utiliser à l'étape suivante.","hash","integer","L'adresse IP du client qui effectue le paiement.","La devise internationale (ISO-4217) de la transaction en cours. Par défault: XOF( Communauté Financière Africaine (BCEAO) )","Langue dans laquelle la transaction est effectuée. Par défault: fr(français). Les codes supportés sont: fr, en","Le code ISO du pays du site marchant. Valeur par défaut: ML(Mali)","Le hash est une valeur calculée avec la formule suivante : SHA1(UPPERCASE(order_id;amount_100;currency_code;callback_url;api_secret)) 1. Concaténez les différentes valeurs order_id, amount_100, currency_code, callback_url et api-secret en utilisant ;(point-virgule) comme séparateur 2. Faites passer toute la chaîne en majuscules 3. Appliquer la fonction SHA1(SHA1) api_secret: Cette information vous est transmise par VitePay lors de l'enregistrement de votre site marchand. Contactez l'adminsitrateur du site pour lequel vous souhaitez faire l'intégration pour récupérer cette information.","Le montant total de la transaction (x100). Ex: Si le montant du panier est de 12500 XOF, la valeur transmise à ce niveau doit être payment[amount_100] = 1250000","Le numéro de commande sur le site marchand. Les numéros de commande doivent être uniques sur le site marchand car VitePay n'accepte pas les doublons à ce niveau.","NON","OBLIGATOIRE","OUI","PARAMÈTRE","payment[amount_100]","payment[buyer_ip_adress]","payment[callback_url]","payment[cancel_url]","payment[country_code]","payment[currency_code]","payment[decline_url]","payment[description]","payment[email]","payment[language_code]","payment[order_id]","payment[return_url]","Poisitionnez cette valeur à 1 lors d'un appel depuis un formulaire pour rediriger automatique le client vers la page de paiement. Transmettez la valeur 0(valeur par défaut) lors d'un appel serveur-à-serveur. Vous devrez par la suite faire la redirection du client depuis votre site marchand vers l'url transmise par VitePay.","redirect","string","TYPE","Une description de l'achat effectué par le client (160 caractères au maximum).","URL de votre site marchand vers laquelle VitePay redirigera le client si ce(tte) dernie(ère) annule le paiement","URL de votre site marchand vers laquelle VitePay redirigera le client si le paiement est effectué avec succès.","URL de votre site marchand vers laquelle VitPay redirigera le client si le paiement est rejeté.","Vous pouvez simuler un paiement en mode sandbox sans passer par orange money en utilisant les numéro suivants: 77000001 pour confirmer le paiement. 77000009 pour annuler le paiement."]},{"l":"2. Redirection vers VitePay","p":["L'URL sécurisée retournée à l'étape précédente est utilisée pour rediriger l'utilisateur vers le site VitePay pour continuer la transaction et effectuer le paiement. Il s'agit d'une redirection HTTP classique."]},{"l":"3. Confirmation du paiement","p":["Le client est donc redirigé sur le site VitePay pour :","Séléctionner la méthode de paiement;","Renseigner le numéro de téléphone à utiliser pour effectuer le paiement ;","Confirmer avoir pris connaissance des condiditions générales d'utilisation ;","Valider la demande de paiement."]},{"l":"4. Envoi de la demande de paiement sur le téléphone du client","p":["VitePay fait appel au service du partenaire (méthode de paiement séléctionnée) pour transmettre la demande de paiement au numéro de téléphone fourni par le client. Une menu USSD permet au client de continuer la transaction sur son téléphone et de confirmer ou annuler le paiement."]},{"l":"5. Confirmation de la transaction sur votre site marchand","p":["1 ou 0","authenticity","Cet appel server-à-server contient les paramètres suivants :","Cette information permet de sécuriser la communication serveur-à-serveur. En effet, vous devez recalculer cette chaîne au niveau de votre intégration et la comparer à celle que nous vous transmettons. Ne modifier votre panier que s'il y a une correspondance parfaite. Littéralement, authenticity est la valeur SHA1 de la concaténation du numéro de comande, montant de de la transaction (x100), devise et signature du site marchand. authenticity = SHA1(order_id;amount_100;currency_code;api_secret) order_id doit être en masjucules lorsqu'il ne s'agit pas d'une valeur numérique currency_code doit être en lettre masucules SHA1 Le résultat du hashage SHA1 doit est transformé en majuscules","Compagner la signature calculée à celle transmise par VitePay","Dans le cas contraire , la réponse attendue est :","DESCRIPTION","Mettre à jour le panier en fonction du statut transmis (success=1 ou failure=1)","Numéro de la commande sur le site marchand transmis à VitePay à l' Etape 1","order_id","PARAMÈTRE","Pour détecter les paiements en mode sandbox","Quelle que soit le choix effectué par le client, nous en informons le site marchand en faisant un appel : POST au callback_url(voir payment[callback_url] transmis lors de l'appel pour la récupération du REDIRECT_URL).","Recalculer la signature","Retourner une réponse JSON à VitePay pour confirmer ou infirmer le traitement de l'opération sur le site marchand : Dans le cas d'une confirmation, la réponse attendue est :","sandbox","Statut du paiement effectué depuis le téléphone du client.","string","success ou failure","success=1 ou failure=1","Valeur","Vérifier que le numéro de commande est valide et que la transaction est toujours ouverte","Vous devez donc intégrer au niveau du site marchand le code nécessaire pour traiter ce callback server-à-serveur et effectuer les opérations suivantes :"]},{"l":"6. Notification du client","p":["Le client reçoit un message sur son téléphone pour confirmer la transaction et effectuer le mouvements de fonds dans le cas d'une transaction concluante ou alors un message d'annulation de la transaction"]},{"l":"7. Redirection finale","p":["Site la transaction est concluante, VitePay redirige le client vers le site du marchand à l'adresse return_url. Site la transaction n'est pas concluante, VitePay redirige le client vers le site du marchand à l'adresse decline_url."]}],[{"i":"intégration-wordpress---woocommerce","l":"Intégration Wordpress - WooCommerce"},{"l":"Compte développeur","p":["Lorsqu'un compte marchand est créé, vous recevez une paire de clés d'API ( api_key et api_secret):","Les clés d'API sont des identifiants numériques utilisés pour interagir avec les services de Vitepay. Elles sont essentielles pour intégrer les APIs de paiement Vitepay.","Assurez-vous d'abord de disposer d'un compte marchand Vitepay. Si ce n'est pas encore le cas, vous pouvez en créer.","Connectez-vous à votre compte et accédez à l'option \"Paramètres\" puis \"Kit d'intégration\" pour recuperer les clés d'API.","Si vous jugez que votre clé secrète est corrompue vous pouvez accéder à votre espace marchand et générer de nouvelles clés."]},{"i":"intégration-wordpress---woocommerce","l":"Intégration WordPress - WooCommerce","p":["La présente documentation est destinée aux développeurs souhaitant installer le plugin Woocommerce dans WordPress et configurer Vitepay sur un site marchand.","Cliquer sur le bouton Télécharger pour télécharger le plugin Vitepay."]},{"i":"i-telecharger-installer-et-activer-le-plugin-woocommerce","l":"I. Telecharger, Installer et Activer le plugin Woocommerce"},{"l":"1. Téléchargement et installation Automatique du plugin Woocommerce","p":["Le plugin Woocommerce est disponible sur le site Wordpress plugins.","Pour télécharger et installer automatiquement le plugin Woocommerce, cliquer sur Ajouter du menu Extensions et lancer une recherche du plugin Woocommerce en utilisant Woocommerce excelling ecommerce au niveau de la barre de recherche de la page Ajouter des extensions. A la fin de la recherche le plugin Woocommerce s'affichera vous pourrez alors cliquer sur le bouton Installer maintenant pour lancer l'installation de Woocommerce.","Après le téléchargement et l'installation de Vitepay vous serez redirigé vers une page qui vous indiquera que l'extension Vitepay a été bien installée.","Pour activer le plugin Vitepay, cliquer sur le bouton Activer l'extension."]},{"l":"2. Téléchargement et installation Manuel du plugin Woocommerce"},{"l":"A. Télécharger le plugin Woocommerce"},{"l":"B. Décompresser le fichier ZIP ou RAR"},{"l":"C. Transfère des données","p":["Transférer par FTP le dossier woocommerce dans le dossier wp-content/plugins de votre installation WordPress"]},{"l":"D. Activation du plugin Woocommerce","p":["Activer le plugin Woocommerce dans l'interface d'administration ou Back-office de WordPress en cliquant sur le menu Extensions puis Extensions installées et enfin cliquer sur Activer le plugin Woocommerce."]},{"l":"E. Interface du menu","p":["Une fois le plugin Woocommerce Activé, il s’affichera dans le menu de WordPress"]},{"i":"ii-télécharger-installer-et-activer-le-plugin-vitepay","l":"II. Télécharger, Installer et Activer le plugin Vitepay","p":["Il n’est possible d’installer Vitepay que lorsque le plugin Woocommerce a été bien téléchargé et installé."]},{"l":"1. Télécharger et installer Vitepay","p":["Le plugin Vitepay est disponible sur le site Wordpress plugins.","Pour télécharger et installer Vitepay, cliquer sur Ajouter du menu Extensions et lancer une recherche du plugin Vitepay au niveau de la barre de recherche de la page Ajouter des extensions. A la fin de la recherche le plugin Vitepay s’affichera vous pourrez alors cliquer sur le bouton Installer maintenant pour lancer l’installation de Vitepay."]},{"l":"2. Activer Vitepay","p":["Après le téléchargement et l’installation de Vitepay vous serez redirigé vers une page qui vous indiquera que l’extension Vitepay a été bien installée.","Pour activer le plugin Vitepay, cliquer sur le bouton Activer l'extension.","Une fois Vitepay Télécharger, Installer et Activer vous serez redirigé vers la page des Extensions de WordPress."]},{"l":"III. Configuration de Vitepay","p":["Après avoir installé et activé le plugin Woocommerce et Vitepay nous allons procéder à la configuration de Vitepay dans le plugin Woocommerce.","Pour configurer Vitepay dans Woocommerce, cliquer sur Woocommerce dans le menu WordPress, sur l’onglet Commande dans paramètres puis sur Vitepay.","Le menu Vitepay est composé de plusieurs éléments qui sont : Enable/Disable, Title, Description, Vitepay API key, Vitepay API secret, Vitepay API signature, Woo cart page ID, Vitepay Test Mode, Default Locale, Default Currency, et Country.","Les différents composants du formulaire Vitepa","Enable/Disable : permet d’activer ou de désactiver le mode de paiement Vitepay.","Title : Vitepay, s’affiche sur l’interface de votre site, où il peut être choisi par un client comme mode de paiement d’un produit.","Description : une brève explication de comment le paiement est effectué, il correspond au texte dans le placeholder qui s’affiche une fois le moyen de paiement Vitepay choisi.","Vitepay API key, Vitepay API secret et Vitepay API signature vous seront donnés et seront utilisés une fois par configuration c’est-à-dire à chaque nouvelle configuration de Vitepay, vous aurez un nouveau API key, API secret et API signature de Vitepay.","Woo cart page ID : est l’id de la page sur laquelle un client sera redirige lors de l’annulation d’une commande.","Vitepay Test Mode : en mode actif, il permet de faire des simulations de paiement en ligne sans passé par Orange money c’est-à-dire tester tout le processus sans que le prix du produit choisi ne soit soustrait de la somme de votre compte Orange money. Vous pouvez choisir de confirmer le paiement en saisissant le 77000001 comme numéro de téléphone lors du paiement ou le 77000009 pour annuler le paiement. Il permet comme son nom l’indique de tester le mode de paiement une fois désactivé le paiement en ligne est possible.","Default Locale, Default Currency, et Country sont des champs à remplir avec un nom normalisé par ISO (Organisation Internationale de Normalisation).","Default Locale : pour la langue (fr pour le français).","Default Currency : pour la monnaie (XOF pour le FCFA).","Country : pour le pays (ml pour le Mali).","Sauvegarder les informations saisies en cliquant sur le bouton Enregistrer les changements."]},{"l":"IV. Tester Vitepay","p":["Pour vérifier si le mode de paiement Vitepay a été bien configuré dans le plugin Woocommerce de WordPress, commander un produit sur l’interface du site (front-end) avec le moyen de paiement Vitepay pour cela choisir Vitepay, accepter les conditions générales de vente et passer la commande en cliquant sur le bouton COMMANDER."]}]]